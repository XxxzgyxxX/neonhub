--[[
    üöÄ NEON HUB PREMIUM | BLOX FRUITS
    üëë Criador: XxxzgyxxX
    üîó Discord: discord.gg/xxxxxxx (adicione seu link)
    üìå Vers√£o: 3.1 (100% Funcional)
]]

-- Carrega a biblioteca de UI
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()

-- Configura√ß√£o do Tema (Azul Marinho Neon)
local Theme = {
    SchemeColor = Color3.fromRGB(0, 80, 160),
    Background = Color3.fromRGB(0, 15, 30),
    Header = Color3.fromRGB(0, 40, 80),
    TextColor = Color3.fromRGB(255, 255, 255),
    SubTextColor = Color3.fromRGB(180, 180, 180),
    ElementColor = Color3.fromRGB(0, 60, 120)
}

-- Cria a janela principal
local Window = Library.CreateLib("NEON HUB | BLOX FRUITS", Theme)

-- Servi√ßos
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local VirtualInput = game:GetService("VirtualInputManager")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

-- Vari√°veis
local AutoFarm = false
local AutoClick = false
local AutoBoss = false
local AutoKen = false
local AutoHaki = false
local Noclip = false
local InfJump = false
local ToggleUIKey = Enum.KeyCode.RightControl
local IsUIOpen = true

-- Fun√ß√£o para verificar se o personagem existe
function GetCharacter()
    return LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
end

-- Fun√ß√£o para pegar o HumanoidRootPart
function GetHRP()
    local Character = GetCharacter()
    return Character:WaitForChild("HumanoidRootPart")
end

-- Fun√ß√£o para encontrar o inimigo mais pr√≥ximo
function GetClosestEnemy()
    local Character = GetCharacter()
    local HRP = GetHRP()
    
    local ClosestEnemy = nil
    local ShortestDistance = math.huge
    
    for _, Enemy in pairs(Workspace.Enemies:GetChildren()) do
        if Enemy:FindFirstChild("Humanoid") and Enemy.Humanoid.Health > 0 and Enemy:FindFirstChild("HumanoidRootPart") then
            local Distance = (HRP.Position - Enemy.HumanoidRootPart.Position).Magnitude
            if Distance < ShortestDistance then
                ShortestDistance = Distance
                ClosestEnemy = Enemy
            end
        end
    end
    
    return ClosestEnemy
end

-- Fun√ß√£o para atacar inimigos
function AttackEnemy(Enemy)
    if not Enemy then return end
    
    local Character = GetCharacter()
    local HRP = GetHRP()
    
    -- Teleporta at√© o inimigo
    TweenService:Create(
        HRP,
        TweenInfo.new(0.5, Enum.EasingStyle.Linear),
        {CFrame = Enemy.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5)}
    ):Play()
    
    -- Auto Click
    if AutoClick then
        VirtualInput:SendKeyEvent(true, "X", false, game)
        task.wait(0.1)
        VirtualInput:SendKeyEvent(false, "X", false, game)
    end
end

-- Loop de Farm Autom√°tico
function AutoFarmLoop()
    while AutoFarm and task.wait(0.5) do
        local Enemy = GetClosestEnemy()
        if Enemy then
            AttackEnemy(Enemy)
        end
    end
end

-- Loop de Farm de Bosses
function AutoBossLoop()
    while AutoBoss and task.wait(1) do
        for _, BossName in pairs({"Darkbeard", "Dough King", "Cursed Captain"}) do
            local Boss = Workspace.Enemies:FindFirstChild(BossName)
            if Boss and Boss:FindFirstChild("Humanoid") and Boss.Humanoid.Health > 0 then
                AttackEnemy(Boss)
                break
            end
        end
    end
end

-- Tabs
local MainTab = Window:NewTab("üè† Principal")
local CombatTab = Window:NewTab("‚öîÔ∏è Combate")
local FarmTab = Window:NewTab("üåæ Farm")
local PlayerTab = Window:NewTab("üë§ Jogador")
local SettingsTab = Window:NewTab("‚öôÔ∏è Configura√ß√µes")

-- Sections
local MainSection = MainTab:NewSection("üîß Fun√ß√µes Principais")
local CombatSection = CombatTab:NewSection("üéØ Habilidades")
local AutoFarmSection = FarmTab:NewSection("ü§ñ Farm Autom√°tico")
local BossSection = FarmTab:NewSection("üëë Bosses")
local PlayerControls = PlayerTab:NewSection("üéÆ Controles")
local UISettings = SettingsTab:NewSection("üé® UI Config")

-- Elementos da UI
MainSection:NewToggle("‚úÖ Auto Farm", "Farm autom√°tico de inimigos", function(State)
    AutoFarm = State
    if State then
        coroutine.wrap(AutoFarmLoop)()
        Library:Notify("Auto Farm ATIVADO", 3)
    else
        Library:Notify("Auto Farm DESATIVADO", 3)
    end
end)

MainSection:NewToggle("üñ±Ô∏è Auto Click", "Ativa clique autom√°tico", function(State)
    AutoClick = State
    Library:Notify(State and "Auto Click ATIVADO" or "Auto Click DESATIVADO", 3)
end)

BossSection:NewToggle("üëë Farm Bosses", "Farm autom√°tico de bosses", function(State)
    AutoBoss = State
    if State then
        coroutine.wrap(AutoBossLoop)()
        Library:Notify("Farm de Bosses ATIVADO", 3)
    else
        Library:Notify("Farm de Bosses DESATIVADO", 3)
    end
end)

CombatSection:NewToggle("üåÄ Auto Ken", "Ativa Ken automaticamente", function(State)
    AutoKen = State
    while AutoKen do
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("ActivateKen")
        end)
        task.wait(5)
    end
    Library:Notify(State and "Auto Ken ATIVADO" or "Auto Ken DESATIVADO", 3)
end)

PlayerControls:NewSlider("üö∂ Velocidade", "Ajusta sua velocidade", 500, 16, function(Value)
    pcall(function()
        GetCharacter().Humanoid.WalkSpeed = Value
    end)
end)

PlayerControls:NewToggle("‚úàÔ∏è NoClip", "Ativa/Desativa NoClip", function(State)
    Noclip = State
    Library:Notify(State and "NoClip ATIVADO" or "NoClip DESATIVADO", 3)
end)

-- Configura√ß√µes da UI
UISettings:NewKeybind("üîò Toggle UI", "Abre/Fecha a Interface", Enum.KeyCode.RightControl, function()
    IsUIOpen = not IsUIOpen
    Window.Main.Visible = IsUIOpen
    Library:Notify(IsUIOpen and "UI ABERTA" or "UI FECHADA", 2)
end)

-- Anti-AFK e NoClip
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    game:GetService("VirtualUser"):Button2Down(Vector2.new(0,0), Workspace.CurrentCamera.CFrame)
    task.wait(1)
    game:GetService("VirtualUser"):Button2Up(Vector2.new(0,0), Workspace.CurrentCamera.CFrame)
end)

RunService.Stepped:Connect(function()
    if Noclip then
        pcall(function()
            for _, Part in pairs(GetCharacter():GetDescendants()) do
                if Part:IsA("BasePart") then
                    Part.CanCollide = false
                end
            end
        end)
    end
end)

-- Inicializa√ß√£o
Library:Notify("NEON HUB CARREGADO! Pressione RightControl para abrir/fechar.", 5)
