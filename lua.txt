
--[[
    Neon Hub - Universal Blox Fruits Script
    Created By: _XzgyX_
    Compatible with Android Executors
    Version: 2.1
]]

local NeonHub = {}
NeonHub.__index = NeonHub

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local UserInputService = game:GetService("UserInputService")
local TeleportService = game:GetService("TeleportService")
local Lighting = game:GetService("Lighting")

-- Variables
local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- Configuration
local Config = {
    AutoFarm = false,
    AutoBone = false,
    AutoRaid = false,
    AutoFactory = false,
    AutoSea = false,
    KillAura = false,
    NoClip = false,
    InfiniteJump = false,
    WalkSpeed = 16,
    JumpPower = 50,
    SelectedWeapon = nil,
    FarmDistance = 15,
    AttackDistance = 60,
    TweenSpeed = 350
}

-- GUI Creation
local function CreateGUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "NeonHub"
    ScreenGui.Parent = Player:WaitForChild("PlayerGui")
    ScreenGui.ResetOnSpawn = false
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = ScreenGui
    MainFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
    MainFrame.BorderSizePixel = 0
    MainFrame.Position = UDim2.new(0.1, 0, 0.1, 0)
    MainFrame.Size = UDim2.new(0, 400, 0, 500)
    MainFrame.Active = true
    MainFrame.Draggable = true
    
    -- Corner Rounding
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 10)
    Corner.Parent = MainFrame
    
    -- Title
    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Parent = MainFrame
    Title.BackgroundTransparency = 1
    Title.Position = UDim2.new(0, 0, 0, 0)
    Title.Size = UDim2.new(1, 0, 0, 50)
    Title.Font = Enum.Font.GothamBold
    Title.Text = "Neon Hub | By _XzgyX_"
    Title.TextColor3 = Color3.new(0, 1, 1)
    Title.TextScaled = true
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Parent = MainFrame
    CloseButton.BackgroundColor3 = Color3.new(1, 0, 0)
    CloseButton.Position = UDim2.new(0.9, 0, 0, 5)
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Text = "X"
    CloseButton.TextColor3 = Color3.new(1, 1, 1)
    CloseButton.TextScaled = true
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 5)
    CloseCorner.Parent = CloseButton
    
    -- Scroll Frame
    local ScrollFrame = Instance.new("ScrollingFrame")
    ScrollFrame.Name = "ScrollFrame"
    ScrollFrame.Parent = MainFrame
    ScrollFrame.BackgroundTransparency = 1
    ScrollFrame.Position = UDim2.new(0, 10, 0, 60)
    ScrollFrame.Size = UDim2.new(1, -20, 1, -70)
    ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 2000)
    ScrollFrame.ScrollBarThickness = 5
    
    -- Layout
    local Layout = Instance.new("UIListLayout")
    Layout.Parent = ScrollFrame
    Layout.Padding = UDim.new(0, 5)
    Layout.SortOrder = Enum.SortOrder.LayoutOrder
    
    return ScreenGui, MainFrame, ScrollFrame, CloseButton
end

-- Button Creation Function
local function CreateButton(parent, text, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = parent
    Button.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    Button.Size = UDim2.new(1, -10, 0, 40)
    Button.Font = Enum.Font.Gotham
    Button.Text = text
    Button.TextColor3 = Color3.new(1, 1, 1)
    Button.TextScaled = true
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 5)
    ButtonCorner.Parent = Button
    
    Button.MouseButton1Click:Connect(callback)
    
    return Button
end

-- Toggle Creation Function
local function CreateToggle(parent, text, callback)
    local Toggle = Instance.new("TextButton")
    Toggle.Parent = parent
    Toggle.BackgroundColor3 = Color3.new(0.8, 0, 0)
    Toggle.Size = UDim2.new(1, -10, 0, 40)
    Toggle.Font = Enum.Font.Gotham
    Toggle.Text = text .. ": OFF"
    Toggle.TextColor3 = Color3.new(1, 1, 1)
    Toggle.TextScaled = true
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 5)
    ToggleCorner.Parent = Toggle
    
    local isOn = false
    
    Toggle.MouseButton1Click:Connect(function()
        isOn = not isOn
        if isOn then
            Toggle.BackgroundColor3 = Color3.new(0, 0.8, 0)
            Toggle.Text = text .. ": ON"
        else
            Toggle.BackgroundColor3 = Color3.new(0.8, 0, 0)
            Toggle.Text = text .. ": OFF"
        end
        callback(isOn)
    end)
    
    return Toggle
end

-- Utility Functions
local function GetClosestEnemy()
    local closest = nil
    local shortestDistance = math.huge
    
    for _, enemy in pairs(Workspace.Enemies:GetChildren()) do
        if enemy:FindFirstChild("Humanoid") and enemy:FindFirstChild("HumanoidRootPart") and enemy.Humanoid.Health > 0 then
            local distance = (RootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                closest = enemy
            end
        end
    end
    
    return closest
end

local function TweenToPosition(position, speed)
    if not RootPart then return end
    
    local distance = (RootPart.Position - position).Magnitude
    local time = distance / (speed or Config.TweenSpeed)
    
    local tween = TweenService:Create(
        RootPart,
        TweenInfo.new(time, Enum.EasingStyle.Linear),
        {CFrame = CFrame.new(position)}
    )
    
    tween:Play()
    return tween
end

local function EquipWeapon()
    if Config.SelectedWeapon then
        local tool = Player.Backpack:FindFirstChild(Config.SelectedWeapon) or Character:FindFirstChild(Config.SelectedWeapon)
        if tool and tool.Parent == Player.Backpack then
            Humanoid:EquipTool(tool)
        end
    end
end

local function Attack()
    if not Config.SelectedWeapon then return end
    
    local tool = Character:FindFirstChild(Config.SelectedWeapon)
    if tool and tool:FindFirstChild("RemoteEvent") then
        tool.RemoteEvent:FireServer()
    end
    
    -- Backup attack method
    game:GetService("VirtualUser"):CaptureController()
    game:GetService("VirtualUser"):ClickButton1(Vector2.new(0, 0))
end

-- Main Functions
local function AutoFarm()
    spawn(function()
        while Config.AutoFarm do
            wait(0.1)
            
            local enemy = GetClosestEnemy()
            if enemy and enemy:FindFirstChild("HumanoidRootPart") then
                local distance = (RootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
                
                if distance > Config.FarmDistance then
                    TweenToPosition(enemy.HumanoidRootPart.Position)
                else
                    EquipWeapon()
                    if distance <= Config.AttackDistance then
                        Attack()
                    end
                end
            end
        end
    end)
end

local function AutoBone()
    spawn(function()
        while Config.AutoBone do
            wait(0.1)
            
            for _, bone in pairs(Workspace:GetChildren()) do
                if bone.Name == "Bone" and bone:FindFirstChild("Handle") then
                    TweenToPosition(bone.Handle.Position)
                    wait(1)
                end
            end
        end
    end)
end

local function KillAura()
    spawn(function()
        while Config.KillAura do
            wait(0.1)
            
            for _, enemy in pairs(Workspace.Enemies:GetChildren()) do
                if enemy:FindFirstChild("Humanoid") and enemy:FindFirstChild("HumanoidRootPart") and enemy.Humanoid.Health > 0 then
                    local distance = (RootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
                    if distance <= Config.AttackDistance then
                        EquipWeapon()
                        Attack()
                    end
                end
            end
        end
    end)
end

local function NoClip()
    spawn(function()
        while Config.NoClip do
            wait()
            for _, part in pairs(Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)
end

-- Teleport Functions
local function TeleportToSea(seaNumber)
    local places = {
        [1] = 2753915549,
        [2] = 4442272183,
        [3] = 7449423635
    }
    
    if places[seaNumber] then
        TeleportService:Teleport(places[seaNumber], Player)
    end
end

-- Auto Sea Beast
local function AutoSeaBeast()
    spawn(function()
        while Config.AutoSea do
            wait(1)
            
            for _, seaBeast in pairs(Workspace.SeaBeasts:GetChildren()) do
                if seaBeast:FindFirstChild("HumanoidRootPart") and seaBeast:FindFirstChild("Humanoid") and seaBeast.Humanoid.Health > 0 then
                    TweenToPosition(seaBeast.HumanoidRootPart.Position)
                    EquipWeapon()
                    Attack()
                    wait(0.1)
                end
            end
        end
    end)
end

-- Auto Factory
local function AutoFactory()
    spawn(function()
        while Config.AutoFactory do
            wait(0.1)
            
            local factory = Workspace:FindFirstChild("Factory")
            if factory then
                for _, part in pairs(factory:GetChildren()) do
                    if part.Name == "Core" and part:FindFirstChild("ClickDetector") then
                        fireclickdetector(part.ClickDetector)
                        wait(1)
                    end
                end
            end
        end
    end)
end

-- Enhanced Character Features
local function SetWalkSpeed(speed)
    if Humanoid then
        Humanoid.WalkSpeed = speed
    end
end

local function SetJumpPower(power)
    if Humanoid then
        Humanoid.JumpPower = power
    end
end

local function InfiniteJump()
    if Config.InfiniteJump then
        UserInputService.JumpRequest:Connect(function()
            if Config.InfiniteJump and Humanoid then
                Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    end
end

-- Main GUI Setup
local function SetupGUI()
    local ScreenGui, MainFrame, ScrollFrame, CloseButton = CreateGUI()
    
    -- Close Button Function
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
    end)
    
    -- Auto Farm Section
    CreateToggle(ScrollFrame, "Auto Farm", function(state)
        Config.AutoFarm = state
        if state then AutoFarm() end
    end)
    
    CreateToggle(ScrollFrame, "Auto Bone", function(state)
        Config.AutoBone = state
        if state then AutoBone() end
    end)
    
    CreateToggle(ScrollFrame, "Auto Sea Beast", function(state)
        Config.AutoSea = state
        if state then AutoSeaBeast() end
    end)
    
    CreateToggle(ScrollFrame, "Auto Factory", function(state)
        Config.AutoFactory = state
        if state then AutoFactory() end
    end)
    
    CreateToggle(ScrollFrame, "Kill Aura", function(state)
        Config.KillAura = state
        if state then KillAura() end
    end)
    
    -- Movement Section
    CreateToggle(ScrollFrame, "No Clip", function(state)
        Config.NoClip = state
        if state then NoClip() end
    end)
    
    CreateToggle(ScrollFrame, "Infinite Jump", function(state)
        Config.InfiniteJump = state
        InfiniteJump()
    end)
    
    -- Speed Controls
    CreateButton(ScrollFrame, "Speed +10", function()
        Config.WalkSpeed = Config.WalkSpeed + 10
        SetWalkSpeed(Config.WalkSpeed)
    end)
    
    CreateButton(ScrollFrame, "Speed -10", function()
        Config.WalkSpeed = math.max(Config.WalkSpeed - 10, 16)
        SetWalkSpeed(Config.WalkSpeed)
    end)
    
    CreateButton(ScrollFrame, "Jump +10", function()
        Config.JumpPower = Config.JumpPower + 10
        SetJumpPower(Config.JumpPower)
    end)
    
    -- Teleport Section
    CreateButton(ScrollFrame, "Teleport to Sea 1", function()
        TeleportToSea(1)
    end)
    
    CreateButton(ScrollFrame, "Teleport to Sea 2", function()
        TeleportToSea(2)
    end)
    
    CreateButton(ScrollFrame, "Teleport to Sea 3", function()
        TeleportToSea(3)
    end)
    
    -- Weapon Selection
    CreateButton(ScrollFrame, "Select Weapon", function()
        local weapons = {}
        for _, tool in pairs(Player.Backpack:GetChildren()) do
            if tool:IsA("Tool") then
                table.insert(weapons, tool.Name)
            end
        end
        
        if #weapons > 0 then
            Config.SelectedWeapon = weapons[1] -- Select first weapon
            print("Selected weapon: " .. Config.SelectedWeapon)
        end
    end)
    
    -- Utility Functions
    CreateButton(ScrollFrame, "Reset Character", function()
        Character:BreakJoints()
    end)
    
    CreateButton(ScrollFrame, "Full Bright", function()
        Lighting.Brightness = 2
        Lighting.ClockTime = 14
        Lighting.FogEnd = 100000
        Lighting.GlobalShadows = false
        Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
    end)
    
    CreateButton(ScrollFrame, "Anti Lag", function()
        for _, obj in pairs(Workspace:GetDescendants()) do
            if obj:IsA("BasePart") and not obj.Parent:FindFirstChild("Humanoid") then
                obj.Material = Enum.Material.Plastic
                obj.Reflectance = 0
            elseif obj:IsA("Decal") or obj:IsA("Texture") then
                obj.Transparency = 1
            elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                obj.Enabled = false
            elseif obj:IsA("Explosion") then
                obj.BlastRadius = 1
                obj.BlastPressure = 1
            end
        end
    end)
end

-- Character Update Handler
local function OnCharacterAdded(newCharacter)
    Character = newCharacter
    Humanoid = Character:WaitForChild("Humanoid")
    RootPart = Character:WaitForChild("HumanoidRootPart")
    
    -- Restore settings
    SetWalkSpeed(Config.WalkSpeed)
    SetJumpPower(Config.JumpPower)
end

Player.CharacterAdded:Connect(OnCharacterAdded)

-- Initialize
print("Neon Hub Loading...")
wait(2)
SetupGUI()
print("Neon Hub Loaded Successfully!")
print("Created By: _XzgyX_")
print("Universal Android Compatible")

-- Auto-update character reference if it changes
if Player.Character then
    OnCharacterAdded(Player.Character)
end
